### Setup R source code and objects.
PKG_CPPFLAGS = @DEFS@
PKG_CFLAGS = -w

### For user configuration.
USER_CONF = Makeconf

### For libcpuid
R_OBJS = \
cpuid/libcpuid/cpuid_main.o  \
cpuid/libcpuid/recog_intel.o  \
cpuid/libcpuid/recog_amd.o \
cpuid/libcpuid/rdtsc.o \
cpuid/libcpuid/asm-bits.o \
cpuid/libcpuid/libcpuid_util.o \
cpuid_test.o \
hardware_info.o


OBJECTS = ${R_OBJS}


### Start making here.
all: $(SHLIB)

$(SHLIB): $(OBJECTS)

clean:
		@rm -rf *.o *.d *.rc *.so* *.dylib *.dll *.a *.lib \
				cpuid/libspuid/*.o \
				Makedeps Makevars $(SHLIB) $(OBJECTS)

